# 詳細精度検証手順書 (Ver 1.0)

本ドキュメントでは、高精度傾斜角センサーアプリの測定精度を定量的に評価するための検証手順を定めます。
開発者およびQA担当者は、以下の手順に従って定期的に精度検証を行うことを推奨します。

## 1. 検証環境の構築

高精度な検証を行うには、物理的な基準面が必要です。以下の器具を用意してください。

- **精密定盤 (Surface Plate)**: JIS 0級または1級相当の平面度を持つもの。
- **サインバー (Sine Bar)**: 長さ100mmまたは200mmのもの。既知の角度を高精度に作り出すために必須です。
- **ブロックゲージ (Gauge Blocks)**: サインバーの下に挟み、角度を調整するために使用します。
- **ハイトゲージ (Height Gauge)**: 必要に応じて平行度を確認するために使用します。

### 代替手段（簡易検証）

上記器具がない場合、以下の環境で代用します（精度は落ちます）。

- 水平器（気泡管式、JIS精度等級A級推奨）
- 傾斜台（角度目盛付き）

---

## 2. 検証手順 (A) : ゼロ点再現性

キャリブレーション後の「ゼロ復帰精度」を確認します。

1. iPhoneを定盤上に置き、[CALIBRATE] ボタンを押して `0.00°` に合わせる。
2. iPhoneを持ち上げ、空中でランダムに動かしてから再度同じ場所に置く。
3. 数値を記録する。
4. 手順2-3を10回繰り返し、標準偏差 $\sigma$ を算出する。
    - **合格基準**: $\sigma < 0.05^\circ$

---

## 3. 検証手順 (B) : 角度直線性 (Linearity)

サインバーを用いて正確な傾斜角を作り、アプリの表示値との誤差を確認します。

### 準備

サインバーの長さを $L$ (例: 100mm)、作りたい角度を $\theta$ とすると、必要なブロックゲージの高さ $H$ は以下で計算されます。

$$
H = L \cdot \sin(\theta)
$$

### 測定ステップ

1. 定盤上でアプリを `0.00°` にキャリブレーションする。
2. 以下の角度について、$H$ を計算しブロックゲージをセットする。
    - $1^\circ, 5^\circ, 10^\circ, 30^\circ, 45^\circ$
3. サインバーの上にiPhoneを置き、数値が安定するのを待って記録する。
4. **誤差** $| \text{測定値} - \text{理論値}(\theta) |$ を算出する。
    - **合格基準**: 誤差 $\pm 0.2^\circ$ 以内（相対精度）

---

## 4. 検証手順 (C) : 経時ドリフト (Drift)

センサーの発熱やバッテリー電圧変化によるドリフトを確認します。

1. iPhoneを定盤上に固定し、充電ケーブルを接続する。
2. `0.00°` に合わせる。
3. 1時間放置し、10分ごとの数値を記録する。
    - **合格基準**: 変動幅 $\pm 0.1^\circ$ 以内

---

## 5. 評価レポート作成

検証結果は以下のフォーマットで記録してください。

| 検証項目 | 条件 | 測定値 (Max/Min) | 結果 (OK/NG) | 備考 |
| :--- | :--- | :--- | :--- | :--- |
| A. ゼロ点再現性 | n=10 | Max: 0.02, Min: -0.01 | OK | |
| B. 直線性 ($5^\circ$) | H=8.72mm | 5.05° (+0.05) | OK | |
| B. 直線性 ($45^\circ$) | H=70.71mm | 45.12° (+0.12) | OK | ケースの滑りに注意 |

---

## 6. 注意事項

- **温度管理**: 検証は温度変化の少ない室内（20℃±2℃推奨）で行ってください。
- **ケースの影響**: 可能な限りケースを外し、センサー軸が定盤と平行になるように設置してください。カメラの突起を避けるための平行スペーサー使用を強く推奨します。
