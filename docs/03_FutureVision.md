# 今後の展望：high-precision-sensor / table-level

作成日: 2026-02-25  
対象: 両アプリの中長期的な発展シナリオ

---

## はじめに

本書は、現在プロトタイプ段階にある2つのアプリについて、技術・ユーザー体験・ビジネスの3軸で今後の発展方向を整理する。近未来（6ヶ月以内）から長期ビジョン（2〜3年）まで時間軸を持って考える。

---

## 第1部：high-precision-sensor の今後の展望

### 短期（〜v1.3：3〜6ヶ月以内）

#### A. 運用品質の底上げ（現行ロードマップの完遂）

**目的**: 実証試験・現場導入で「動かない」「分からない」が起きないレベルへ引き上げる

| 課題 | 具体策 | 期待効果 |
|:-----|:-------|:---------|
| 現場誤操作 | キャリブレーションウィザード UI（ステップ固定表示） | 手順ミスによる精度低下を排除 |
| 状態表示の不明瞭さ | モード表示を運用語に変更（`計測中/安定化中/確定値`） | 非技術者が状態を即座に把握 |
| センサー許可拒否時 | 復旧ガイド画面（iOS 設定画面へのリンク付き） | 現場で担当者に頼らず復旧可能 |
| SW 自動更新 | `skipWaiting` + 更新通知バナー実装 | 古いキャッシュで動く問題の根絶 |
| アイコン互換性 | PNG/maskable アイコン追加（manifest 強化） | ホーム画面への追加品質向上 |

#### B. データ品質の強化

- **セッションパッケージ出力**（CSV + 設定スナップショット + 端末情報 を ZIP 化）
  - 再現性の確保と問い合わせ対応の標準化
  - 外注・依頼研究への引き渡しデータとして活用
- **不確かさ表示**（信頼度スコアの UI 提示）
  - 「今の値を信じてよいか」を可視化し、計測品質の均質化を支援
- **サンプリングレート固定ロギング**（10Hz/50Hz の `setInterval` ベース）
  - バックグラウンド計測問題の部分解消

---

### 中期（v2.0：6〜18ヶ月）

#### C. 精度の第三者検証・公表

- デジタルプロトラクターとの比較試験（機種別・温度別）を実施し、**測定不確かさを正式評価**
- 比較ドキュメントを公開することで、「気泡管水準器の代替として有効」という主張に客観的根拠を付与
- 測定条件（机種・設置姿勢・環境温度）によるブレのマトリクスを作成

#### D. リアルタイム遠隔化

- **WebSocket を用いた親機（PC）との連携**
  - スマホを「センサーノード」、PC を「表示端末・管理端末」に分担
  - 遠隔地からスマホを設置して水平出しを観察する用途（足場・高所作業など）
- **複数台連携による 3D 計測**
  - 2台のスマホを使い、X-Y 平面の傾きに加えてねじれ（Z軸回転）を推定
  - 大型設備の据付精度評価に応用可能

#### E. プロファイル機能

- 機材別・現場別の設定プリセット保存
- チーム内で設定共有（QR コード読み込み・JSON エクスポート）
- 複数現場にまたがる設備管理への対応

---

### 長期ビジョン（v3.0+：1〜3年）

#### F. 据付検収アシスタントへの進化

- 計測→記録→承認（電子署名や写真付き）の**検収ワークフロー**を内包
- 既存の帳票フォーマット（紙）と連携した PDF 生成
- 設備台帳との紐付けと傾斜の経年変化モニタリング

#### G. クラウドデータ活用（オプション展開）

- オプトイン型でデータをクラウドに集約し、**設備の状態変化を遠隔モニタリング**
- 同種設備の集計データから「異常な傾き」を早期検知するアノマリー検出
- プライバシーと業務機密の保護を前提とした設計

#### H. 外注・依頼研究への貢献

- 計測アルゴリズムの教材・研究用データとして活用（「センサー学習アプリ」への派生）
- 建設・製造業向けの受託開発（カスタムプロファイル・特定設備向けチューニング）

---

### 技術ロードマップ（コード品質）

| フェーズ | 主な改善 |
|:---------|:---------|
| 短期 | TypeScript 段階導入（JSDoc → d.ts 生成）、Workbox による SW 自動化 |
| 中期 | テスト自動化の CI/CD 組み込み、UIManager/AudioEngine の単体テスト整備 |
| 長期 | マルチアプリ共通基盤（shared/ の npm パッケージ化）、TypeScript 全面移行 |

---

## 第2部：table-level の今後の展望

### 短期（〜v1.1：3〜6ヶ月以内）

#### A. ドキュメント整備と精度の透明化

- **アルゴリズム精度評価書**の作成
  - センサー誤差とボルト回転量誤差の関係を明示（「机の奥行き 600mm の場合、±0.1° の誤差は約 ±1mm ≈ ±1回転に相当」等）
  - ユーザーが期待値を正しく理解できるように
- **ユーザーマニュアル**（SP-01 の拡充）
  - 机のサイズ入力方法、スマホの正しい設置位置、ボルト調整手順を写真付きで説明

#### B. 精度・設置安定性の改善

- **スマホ設置状態の確認機能**（静止判定中の脱落検出）
  - 計測開始後にスマホが動いた場合、即座に `active` に戻す処理の可視化強化
- **不確かさ表示**（high-precision-sensor と共通実装）
  - 「現在の精度での調整限界：±X mm（=±Y 回転）」をリアルタイム表示
- サポートするボルトピッチの拡張（現行: M6〜M12 → 建築用アンカー対応等）

#### C. UX の改善

- **4隅調整マップのビジュアル強化**
  - 「今どの脚を優先すべきか」を色分けやランクで提示
  - 1本調整後に次の目標を自動案内
- **音声ガイドの強化**
  - 「手前左の脚を右に 0.5 回転してください」→「準備ができたらスマホを置いてください」の対話フロー化
- 机の形状プリセット（正方形・長方形・L字型）

---

### 中期（v2.0：6〜18ヶ月）

#### D. 計算モデルの精緻化

- **天板の剛体仮定を緩和したモデルの検討**
  - 3点支持の場合・脚位置が非対称の場合への対応
  - ユーザーが脚位置を手動入力できる「カスタム配置」モード
- **調整シミュレーター機能**
  - 「この脚を N 回転すると、他の脚への影響がどうなるか」を事前プレビュー

#### E. 多台数管理への拡張

- **案件・台番管理機能**
  - 調整した机に番号を付けて記録（台帳エクスポート）
  - チームでの作業進捗管理（「机 3 番：完了」「机 7 番：要再調整」）
- **工場ライン・建設現場での大量調整への対応**
  - 10〜100 台規模の据付作業を効率化する「バッチ調整モード」

#### F. high-precision-sensor との連携・統合

- 共通の「センサーコア」モジュールを `shared/` から npm パッケージとして提供
- table-level の「ボルト回転量計算」を計測アプリの拡張機能として統合
- ユーザーが用途に応じてモードを切り替えるシームレスな UX

---

### 長期ビジョン（1〜3年）

#### G. 業務 SaaS への発展

- PWA としての軽量さを維持しながら、チームアカウント・案件管理・記録履歴をクラウドバックエンドで提供
- API 連携によって設備管理システム（CMMS）との統合が可能に

#### H. 精密機械・半導体製造への展開

- より高精度なセンサー（外付け傾斜計）との接続（Bluetooth/USB）
- ppb レベルの精度が求められる用途には「計測スマホ＋外部センサー」ハイブリッド構成で対応

#### I. 教育・研修用途への展開

- 「水平出し研修」のデジタルツールとしての活用
- 研修記録（誰が・どの設備を・どの精度で調整したか）を自動記録

---

## 第3部：両アプリ共通の展望

### 開発体制の進化

| 段階 | 体制 |
|:-----|:-----|
| 現在 | 個人開発 + 生成AI コーディングサポート |
| 短期 | 外部レビュアー（精度検証・UX 評価）との連携 |
| 中期 | 依頼研究・共同開発（大学・研究機関・専門企業） |
| 長期 | 外注開発チームによる機能拡張・商用化 |

### 共通技術基盤の整備

- `shared/js/` の **npm パッケージ化**（カルマンフィルタ・静止判定ロジックをライブラリとして公開）
- TypeScript による型安全な設計への移行
- CI/CD パイプラインの構築（自動テスト・デプロイの標準化）

### 生成AI活用の今後

- 開発プロセスへの生成AI統合は既に実証済みであり、今後は**より高度なロール**（設計レビュー自動化・テスト自動生成・ドキュメント自動更新）に拡張可能
- 「生成AI × センサー」の組み合わせで、計測データの異常検知・レポート自動生成が現実的な近未来として視野に入る

### 知財・ライセンス戦略の整備

- MIT License のままコミュニティへ公開し続けるか、商用机のデュアルライセンス化を検討するかを明確化
- 外注・共同開発時のコード帰属・知財処理方針を事前文書化

---

## まとめ：優先度付き アクションリスト

### 3ヶ月以内にやること（最優先）

1. **両アプリ** ── 精度限界を UI 上に明示（「この精度での誤差：約 ±XX mm」等）
2. **high-precision-sensor** ── キャリブレーションウィザードと運用語への表示変更
3. **table-level** ── アルゴリズム精度評価書とユーザーマニュアルの作成

### 6ヶ月以内にやること（重要）

1. **両アプリ** ── 比較試験データの取得・公表（精度の客観的根拠づくり）
2. **high-precision-sensor** ── セッションパッケージ出力とサンプリングレート固定ロギング
3. **table-level** ── 不確かさ表示と4隅調整マップの改善

### 1年以内に判断すること（戦略）

1. 外注・依頼研究の具体的な相手・領域の選定
2. 商用化・SaaS 展開の意思決定
3. TypeScript 移行と npm パッケージ化の開始
