<style>
  h2, h3, h4 { page-break-after: avoid; }
  table { page-break-inside: avoid; }
</style>

# 批判的意見まとめ：high-precision-sensor / table-level

作成日: 2026-02-25  
対象: High Precision Tilt Sensor PWA（v1.2）および Table Level Guide（v1.0）

---

## はじめに

本書は「プロトタイプの弱点を直視し、次の改善と意思決定の材料にする」ことを目的とする。批判は否定ではなく、健全な品質向上のための行為として位置づける。

---

## 第1部：high-precision-sensor への批判的意見

### 1. 精度の主張に根拠が薄い

#### 1-1. 「分解能 0.01°」は数値表示桁数であって、計測精度ではない

- スマートフォンの MEMS センサー（DeviceOrientation API）は、ISO 規格の計測器ではない。
- ソフトウェアフィルタで数値を平滑化しても、**物理的な精度が向上するわけではない**。
- 「0.01° の分解能」は小数点以下の桁数の話に過ぎず、**測定不確かさ（uncertainty）の評価が欠如している**。
- キャリブレーション後の相対精度「±0.1°」の根拠も、独立した第三者検証が存在しない。

#### 1-2. 端末個体差の矮小化

- 同じアプリを異なる機種で動かした場合の系統誤差は不明であり、機種間比較結果が公表されていない。
- 「スマホで代替できる」という主張は、個体差・温度ドリフト・経年劣化を考慮した上での評価が必要。

#### 1-3. 既存計測器との比較データの欠如

- デジタルプロトラクター（数万円）との比較試験が行われていない。
- 「専用計測器の代替になる」という訴求には、精度・応答速度・耐環境性の比較実験が必要。

---

### 2. 実運用への配慮不足

#### 2-1. 現場で誤操作が起きやすい設計

- センサー許可を拒否した場合の復旧導線が「知っている人向け」で、現場作業者には不明瞭。
- 2点キャリブレーション手順がトースト通知に依存しており、現場で見落とされやすい。
- 計測モード（`active / locking / measuring`）が開発者語で、作業者が状態を理解しにくい。

#### 2-2. バックグラウンド動作の制限

- タブが非アクティブになると `requestAnimationFrame` が停止し、データロギングも止まる。
- 長時間計測や他アプリ操作しながらの記録ができず、実現場での継続運用が困難。

#### 2-3. 横画面・環境対応の未整備

- 現場では端末を横向きに固定するケースも多いが、横画面対応がスコープ外のまま。
- 建設現場の振動環境での静止判定閾値は、デフォルト値では機能しない可能性が高い。

#### 2-4. 電源断・強制終了時のデータ保護

- 計測中に電源が切れた場合のデータ保全設計が明確でない。
- `IndexedDB` への自動保存間隔・落ちた場合のリカバリ手順が未整備。

---

### 3. コード品質・保守性の問題

#### 3-1. `app.js` の責務過多（改善中だが根本は残る）

- センサー制御・UI・音声・永続化・ライフサイクルを1クラスで管理する構造は、機能追加の度に回帰リスクを生む。
- コードレビューで指摘後に分割対応はされたが、アーキテクチャの思想としてはまだモノリシック傾向が残る。

#### 3-2. TypeScript 非採用による型安全性の欠如

- モジュール間インターフェースを型で保証できておらず、リファクタリング時の不整合は実行時まで発見できない。
- JSDoc 導入も「見送り」扱いで、将来の拡張が困難になる懸念がある。

#### 3-3. Service Worker のキャッシュリストが手動管理

- アセット追加時の手動追記漏れは、「オフラインだけ壊れる」問題の再発源となる。
- Workbox 等のビルド連携が「見送り」のままで、PWA の信頼性が脆すぎる。

#### 3-4. UI・音声制御のテストカバレッジ不足

- ロジック層のテストは充実しているが、`UIManager` と `AudioEngine` の単体テストがない。
- DOM 更新・音声出力系のバグは E2E に頼らざるを得ず、根因特定コストが高い。

---

### 4. ビジネス・展開面の問題

#### 4-1. ユーザー層・ペルソナの不明確さ

- 「建設現場の水平出し」「DIY」「設備傾斜監視」と用途が広すぎて、UXが誰に向けたものか曖昧。
- 精度要件・操作習熟度のターゲットが絞り込まれておらず、結果として「惜しいが刺さらない」アプリになっている。

#### 4-2. 「MIT License オープンソース」の位置づけが曖昧

- 事業展開（受注、外注委託、商用利用）とオープンソース公開を同時に行う場合の整合性が未検討。
- ライセンスの選択が深く議論されておらず、後で問題になる可能性がある。

3. **table-level** ── アルゴリズム精度評価書とユーザーマニュアルの作成

### 6ヶ月以内にやること（重要）

1. **両アプリ** ── 比較試験データの取得・公表（精度の客観的根拠づくり）
2. **high-precision-sensor** ── セッションパッケージ出力とサンプリングレート固定ロギング
3. **table-level** ── 不確かさ表示と4隅調整マップの改善

### 1年以内に判断すること（戦略）

1. 外注・依頼研究の具体的な相手・領域の選定
2. 商用化・SaaS 展開の意思決定
3. TypeScript 移行と npm パッケージ化の開始
