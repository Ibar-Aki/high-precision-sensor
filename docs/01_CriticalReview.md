# 批判的意見まとめ：high-precision-sensor / table-level

作成日: 2026-02-25  
対象: High Precision Tilt Sensor PWA（v1.2）および Table Level Guide（v1.0）

---

## はじめに

本書は「プロトタイプの弱点を直視し、次の改善と意思決定の材料にする」ことを目的とする。批判は否定ではなく、健全な品質向上のための行為として位置づける。

---

## 第1部：high-precision-sensor への批判的意見

### 1. 精度の主張に根拠が薄い

#### 1-1. 「分解能 0.01°」は数値表示桁数であって、計測精度ではない

- スマートフォンの MEMS センサー（DeviceOrientation API）は、ISO 規格の計測器ではない。
- ソフトウェアフィルタで数値を平滑化しても、**物理的な精度が向上するわけではない**。
- 「0.01° の分解能」は小数点以下の桁数の話に過ぎず、**測定不確かさ（uncertainty）の評価が欠如している**。
- キャリブレーション後の相対精度「±0.1°」の根拠も、独立した第三者検証が存在しない。

#### 1-2. 端末個体差の矮小化

- 同じアプリを異なる機種で動かした場合の系統誤差は不明であり、機種間比較結果が公表されていない。
- 「スマホで代替できる」という主張は、個体差・温度ドリフト・経年劣化を考慮した上での評価が必要。

#### 1-3. 既存計測器との比較データの欠如

- デジタルプロトラクター（数万円）との比較試験が行われていない。
- 「専用計測器の代替になる」という訴求には、精度・応答速度・耐環境性の比較実験が必要。

---

### 2. 実運用への配慮不足

#### 2-1. 現場で誤操作が起きやすい設計

- センサー許可を拒否した場合の復旧導線が「知っている人向け」で、現場作業者には不明瞭。
- 2点キャリブレーション手順がトースト通知に依存しており、現場で見落とされやすい。
- 計測モード（`active / locking / measuring`）が開発者語で、作業者が状態を理解しにくい。

#### 2-2. バックグラウンド動作の制限

- タブが非アクティブになると `requestAnimationFrame` が停止し、データロギングも止まる。
- 長時間計測や他アプリ操作しながらの記録ができず、実現場での継続運用が困難。

#### 2-3. 横画面・環境対応の未整備

- 現場では端末を横向きに固定するケースも多いが、横画面対応がスコープ外のまま。
- 建設現場の振動環境での静止判定閾値は、デフォルト値では機能しない可能性が高い。

#### 2-4. 電源断・強制終了時のデータ保護

- 計測中に電源が切れた場合のデータ保全設計が明確でない。
- `IndexedDB` への自動保存間隔・落ちた場合のリカバリ手順が未整備。

---

### 3. コード品質・保守性の問題

#### 3-1. `app.js` の責務過多（改善中だが根本は残る）

- センサー制御・UI・音声・永続化・ライフサイクルを1クラスで管理する構造は、機能追加の度に回帰リスクを生む。
- コードレビューで指摘後に分割対応はされたが、アーキテクチャの思想としてはまだモノリシック傾向が残る。

#### 3-2. TypeScript 非採用による型安全性の欠如

- モジュール間インターフェースを型で保証できておらず、リファクタリング時の不整合は実行時まで発見できない。
- JSDoc 導入も「見送り」扱いで、将来の拡張が困難になる懸念がある。

#### 3-3. Service Worker のキャッシュリストが手動管理

- アセット追加時の手動追記漏れは、「オフラインだけ壊れる」問題の再発源となる。
- Workbox 等のビルド連携が「見送り」のままで、PWA の信頼性が脆すぎる。

#### 3-4. UI・音声制御のテストカバレッジ不足

- ロジック層のテストは充実しているが、`UIManager` と `AudioEngine` の単体テストがない。
- DOM 更新・音声出力系のバグは E2E に頼らざるを得ず、根因特定コストが高い。

---

### 4. ビジネス・展開面の問題

#### 4-1. ユーザー層・ペルソナの不明確さ

- 「建設現場の水平出し」「DIY」「設備傾斜監視」と用途が広すぎて、UXが誰に向けたものか曖昧。
- 精度要件・操作習熟度のターゲットが絞り込まれておらず、結果として「惜しいが刺さらない」アプリになっている。

#### 4-2. 「MIT License オープンソース」の位置づけが曖昧

- 事業展開（受注、外注委託、商用利用）とオープンソース公開を同時に行う場合の整合性が未検討。
- ライセンスの選択が深く議論されておらず、後で問題になる可能性がある。

#### 4-3. 継続的なメンテナンス体制が未確立

- 開発者1名で、スマートフォン OS のアップデートに追随し続けられるかの計画がない。
- DeviceOrientation API は iOS の仕様変更の影響を受けやすく、過去にも破壊的変更が発生している。

---

## 第2部：table-level への批判的意見

### 5. アプリとしての独自性・差別化の弱さ

#### 5-1. high-precision-sensor からの焼き直し感が強い

- センサー処理・音声ガイド・PWA 構成は high-precision-sensor とほぼ同一であり、「新しいアプリ」としての独自価値が薄い。
- calculator.js（ボルト回転量計算）が中核だが、これ自体はシンプルな三角関数計算に過ぎない。
- 「スピンオフアプリ」の位置づけが未整理で、ユーザーがどちらを使えばいいか判断しにくい。

### 6. ボルト回転量計算の信頼性

#### 6-1. 計算モデルが単純すぎる

- 机の4隅の高さを2軸傾斜角（Pitch/Roll）から近似しているが、机の天板が剛体でない場合や脚の配置が中心対称でない場合への考慮が不明。
- 「最小変位・CW のみ」戦略でボルトを一方向にのみ回すことを前提にしているが、摩擦やメカニカルな劣化による予期しない挙動への言及がない。

#### 6-2. 計算精度の限界が未提示

- センサー精度 ±0.1° の場合、奥行き 600mm の机では高さ誤差が最大 ±1mm 以上になる。
- ボルトピッチ 1mm の M6 ネジで 1mm の誤差は「1回転の違い」になりうるが、この限界が UI 上で示されていない。

#### 6-3. 机の寸法設定の検証困難

- ユーザーが入力する「机の寸法」（幅・奥行き）が正確でない場合、計算結果が大きくブレる。
- 入力値の妥当性チェック（現実的な机サイズの範囲）が不明確。

### 7. 実運用・UX の問題

#### 7-1. スマホを机に「置く」という前提の脆弱性

- 計測中にスマホが動く（振動、ケースの滑り）と正確な測定ができないが、設置状態の確認手段がない。
- テーブル上に置いた際の姿勢（縦置き・横置き・角度）による計測精度への影響が未評価。

#### 7-2. 「自動確定」の判断根拠が不透明

- 静止判定後の自動確定タイミングが分散閾値ベースであり、「今の値を信頼してよいか」が数値でわからない。
- タイムアウト（手動確定）に頼るケースが多く、「自動判定の失敗」に対するユーザー体験が悪い。

#### 7-3. ドキュメントの薄さ

- spec フォルダに 1 ファイル（SP-01_Overview.md）しかなく、アルゴリズム根拠・精度評価・ユーザーマニュアルが存在しない。
- high-precision-sensor に比べてドキュメント整備が大幅に遅れており、保守・改善の基盤が弱い。

---

## 第3部：両アプリ共通の問題

### 8. 精度の第三者検証がない

- 両アプリとも「キャリブレーション後の精度」は開発者の自己評価に基づく。
- 独立した試験環境（回転台、精密水平器との比較）での評価が行われていない。

### 9. セキュリティ・プライバシーの検討不足

- CSP（Content Security Policy）ヘッダーが未設定で、防御層が薄い。
- センサーデータの取扱い方針（ローカルのみ、送信しない等）がプライバシーポリシーとして明文化されていない。

### 10. アクセシビリティへの配慮不足

- 視覚的に傾きを確認する手段は充実しているが、視覚障害者を対象とした設計は音声のみ。
- ダークモードのコントラスト比が すべての状態で十分か検証されていない。

### 11. 長期サポート・OSアップデート追従計画の欠如

- iOS / Android の OS アップデートに伴う API 互換性問題へのモニタリング体制がない。
- 個人開発のため、メンテナンスが途絶えるリスクが非常に高い。
