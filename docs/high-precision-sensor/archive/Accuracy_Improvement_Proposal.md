# 精度向上提案書: 高精度傾斜角センサー PWA
作成日時: 2026-02-14 01:54:13 +09:00
作成者: Codex＋GPT-5
更新日: 2026-02-24

## 1. 提案方針
既存の「カルマンフィルタ + EMA + デッドゾーン」構成を維持しつつ、実運用での安定性および再現性を段階的に向上させる。

## 2. 優先度A（実装効果が高く、導入難易度が低い）
1. 動的デッドゾーン
- 静止判定時はデッドゾーンを拡大、移動判定時は縮小する。
- 効果: 静止時のちらつき低減と追従性維持を両立。

2. 外れ値除去（Hampel/中央値ベース）
- 短窓で異常値を検出し、フィルタ入力前に除去する。
- 効果: 突発ノイズによる誤警報を抑止。

3. 自動ゼロ点ドリフト補正
- 一定時間静止状態が続いた場合に微小オフセットを再推定する。
- 効果: 温度ドリフト・経時ずれの低減。

## 3. 優先度B（効果が高いが、検証工数が必要）
1. 適応型カルマン係数
- 観測分散推定に応じて Q/R を自動調整する。
- 効果: 振動環境と静止環境で最適応答を自動切替。

2. センサー融合（加速度 + ジャイロ）
- DeviceMotion を併用し、補完フィルタまたは Madgwick/Mahony 系を適用する。
- 効果: 短時間応答性と長時間安定性の改善。

3. 計測座標の姿勢補正
- 初期姿勢行列を導入し、設置方向依存誤差を正規化する。
- 効果: 設置姿勢のばらつきに対する頑健性向上。

## 4. 優先度C（運用強化）
1. キャリブレーションウィザード
- 複数姿勢での校正手順を段階表示する。

2. 精度診断画面
- ノイズ分散、ドリフト量、推定遅延を定量表示する。

3. 端末別プロファイル
- 機種ごとの推奨パラメータセットを保存・切替する。

## 5. 推奨ロードマップ
1. 第1段階: 動的デッドゾーン + 外れ値除去
2. 第2段階: 適応型 Q/R
3. 第3段階: センサー融合 + 校正ウィザード

## 6. 期待効果（目標値）
- 静止時表示揺らぎ: 20〜40% 低減
- 短時間スパイク反応: 30%以上抑制
- 再キャリブレーション頻度: 運用条件により低減

## 7. 留意点
- API 提供値の上限精度を超える改善は困難である。
- 機種差吸収には実機データ収集を伴う継続的チューニングが必要である。
