# 追加機能案・派生アプリ案

作成日時: 2026-02-24 19:54:14 +09:00  
作成者: Codex＋GPT-5  
更新日: 2026-02-24

## 1. 追加機能案（本アプリ拡張）

### P1. セッションパッケージ出力（CSV+設定+端末情報）

- 目的: 実証試験や問い合わせ時の再現性を高める
- 実装案:
  1. 既存 `DataLogger` のCSVに加え、JSONメタ (`settings`, `timestamp`, `mode`, `permission`) を同時生成
  2. ZIP化して1クリック保存（Web API未対応時は別ファイル保存）
- 主な依存: `assets/js/modules/DataLogger.js`, `assets/js/modules/SettingsManager.js`
- リスク: 容量増加（localStorageには保持せず都度生成で回避）
- 目安工数: 10-14時間

### P2. キャリブレーションウィザード（標準/2点）

- 目的: 現場での手順ミスを減らす
- 実装案:
  1. `idle -> step1 -> step2 -> done` を画面固定で可視化
  2. 静止判定中は進捗バーを表示
  3. 失敗理由（`not_stable`/`timeout`）ごとに復旧ガイドを表示
- 主な依存: `assets/js/modules/SensorEngine.js`, `assets/js/modules/AppEventBinder.js`
- リスク: UIフロー追加による実装肥大
- 目安工数: 12-18時間

### P3. プロファイル機能（機材別プリセット）

- 目的: 設備ごとの再設定作業を短縮
- 実装案:
  1. 設定値を `profileName` 付きで複数保持
  2. 選択時に現在値へ一括適用
  3. 誤適用防止の確認ダイアログ追加
- 主な依存: `assets/js/modules/SettingsManager.js`, `table-level/assets/js/settings.js`
- リスク: 設定キー差分（`Frame/Frames`）吸収が必要
- 目安工数: 14-20時間

### P4. 不確かさ表示（信頼度スコア）

- 目的: 数値だけでなく「今の値を信じてよいか」を提示
- 実装案:
  1. `measurementVariance` と `staticSamples` から信頼度を算出
  2. UIに `高/中/低` を表示
  3. 低信頼時は再計測推奨を案内
- 主な依存: `assets/js/modules/SensorEngine.js`, `table-level/assets/js/sensor.js`
- リスク: 閾値設計を誤ると誤警報が増える
- 目安工数: 8-12時間

## 2. 派生アプリ案

### S1. 設備据付アシスタント（据付検収向け）

- コンセプト: 設備脚の水平検収をチェックリスト化して証跡付きで保存
- 再利用資産:
  - センサー処理: `shared/js/KalmanFilter1D.js`, `shared/js/HybridStaticUtils.js`
  - PWA/オフライン: 既存 SW 構成
- 追加実装: 検収項目テンプレート、署名、写真添付

### S2. 多台数導入向け「現場一括調整」アプリ

- コンセプト: 複数テーブルを連番管理し、作業者の進捗と再作業率を見える化
- 再利用資産:
  - 調整計算: `table-level/assets/js/calculator.js`
  - 設定保存: `table-level/assets/js/settings.js`
- 追加実装: 案件ID、台帳、作業履歴エクスポート

### S3. 建築・内装向け「床/棚 勾配チェック」アプリ

- コンセプト: 水平だけでなく指定勾配（例 1/100）とのズレを表示
- 再利用資産:
  - 角度計測: 高精度傾斜計の表示・フィルタ系
  - 音声案内: `assets/js/modules/AudioEngine.js` の閾値モード
- 追加実装: 勾配目標設定、合否判定、レポート出力

### S4. 教育向け「センサー学習」アプリ

- コンセプト: 生値/フィルタ値/静止平均の違いを可視化して学習教材化
- 再利用資産:
  - フィルタ本体: `SensorEngine` / `TableLevelSensor`
- 追加実装: グラフ可視化、パラメータ比較モード、チュートリアル

## 3. 実装優先順位（現実的ロードマップ）

1. P1 セッションパッケージ出力  
   理由: 検証効率と問い合わせ対応を即改善できる
2. P2 キャリブレーションウィザード  
   理由: 現場誤操作を直接減らせる
3. P4 不確かさ表示  
   理由: 数値への過信を抑止できる
4. P3 プロファイル機能  
   理由: 運用拡大フェーズで効果が大きい

## 4. 派生開発の共通アーキテクチャ方針

1. フィルタ・静止判定は `shared/js` を正として再利用  
2. UI と設定層はアプリごとに分離  
3. キャッシュ戦略とテストスモークはテンプレート化して横展開  
4. 設定キーは共通スキーマで吸収し、アプリ固有差分を最小化

